# 2016-03-12

## Source Map

Source Map を多段トランスフォームに対応させるためのモジュールを作った。
新たに生成した Source Map の各マッピングに対して、オリジナルの位置を取得し上書きしている。

[merge-source-map](https://github.com/keik/merge-source-map)

### すでにあるもの

同じ感じの実装

[source-map-merger](https://github.com/jakobwesthoff/source-map-merger)

メジャー。こちらは古い Source Map 各マッピングを新たに生成した位置で上書きしているのでちょっとだけ違う。

[source-map-merger](https://github.com/jakobwesthoff/source-map-merger)

### 参考

問題点や Source Map 関連のモジュールなどのまとめ記事を参考にした。

http://efcl.info/2014/09/03/multi-stage-sourcemap/


## Undebuggify

Source Map に対応した。

ロガーの削除だけど他にもロガーはたくさんあるので、`debug` に限らず指定したモジュールを削除できる何かを作りたい。


## ロガーの実装

[debug](https://github.com/visionmedia/debug) ばかり使ってたけどブラウザ上だとログ出力行がライブラリ内の位置を表示してしまう。

他のロガーはそうじゃないものもある。[Bows](https://github.com/latentflip/bows) がいい感じ。


https://github.com/HenrikJoreteg/andlog
https://github.com/AndreasMadsen/trace
https://github.com/AndreasMadsen/clarify
https://github.com/mvertes/line-trace

## Travis CI の設定

`sudo: false` 指定すると待ち時間が短くなる。
また `cache` を指定すると依存ライブラリのインストールが早くなる。

よってデフォルトこんな感じにするといい。

```yaml
language: node_js
node_js:
  - '4'
  - 'node'
sudo: false
cache:
  directories:
    - node_modules
```
